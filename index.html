<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
          "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Main</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script type="text/javascript" src="main.js"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

  <style>
    h1
    {
      color :red;
      text-align: center;
    }
  </style>
  
  </head>
  <body>
    <h1>Parties génératrices </h1>
    <input type="text" name="resolve-input" id = "ident">
    <button onclick="on_add()"> Add </button> 
    <button onclick="clearList()"> Clear</button>
    <button onclick="compute()"> Compute</button>
    <h4>Liste en cours : <h5 id="listencours"></h5></h4>
    <h4>Le resultat : <h5 id="result"></h5></h4>
  
  
  </body>
  <script type="text/javascript">
    var list = [];
    var result = "";
    updateList();
    function on_add()  {
      let input = document.getElementById("ident");
      list.push(parseInt(input.value))
      updateList();
      /*
      let result = document.getElementById("result");
      result.textContent = result.textContent + "\\( \\mathbb{Z}/ " + input.value + " \\mathbb{Z} \\) ";
      MathJax.typeset();
      
      */
      input.value = "";
    }
    function clearList() {
      list = [];
      result = "";
      updateList();
      


    }
    function updateList() {
      let listencours = document.getElementById("listencours");
      listencours.textContent = list;
    }
    function compute() {
      let resultat = document.getElementById("result");
      resultat.textContent = ocamlcallback.abelian(list);  
    }
  </script>
</html>